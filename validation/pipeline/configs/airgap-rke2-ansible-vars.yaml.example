# Airgap RKE2 Ansible Variables Template
# Copy this file and customize for your environment

# RKE2 Configuration
rke2_version: "v1.28.8+rke2r1"
rke2_channel: "stable"
rke2_method: "tar"

# Airgap Configuration
airgap_mode: true
private_registry_url: "registry.airgap.local:5000"
private_registry_username: "admin"
private_registry_password: "password123"

# System Registry Configuration
system_default_registry: "registry.airgap.local:5000"

# RKE2 Images and Binaries
rke2_artifact_url: "https://github.com/rancher/rke2/releases/download/v1.28.8+rke2r1"
rke2_images_url: "https://github.com/rancher/rke2/releases/download/v1.28.8+rke2r1/rke2-images.linux-amd64.tar.zst"
rke2_binary_url: "https://github.com/rancher/rke2/releases/download/v1.28.8+rke2r1/rke2.linux-amd64.tar.gz"

# Bastion Host Configuration
bastion_host: "10.0.1.100"
bastion_user: "ubuntu"
bastion_ssh_key: "/root/.ssh/jenkins-elliptic-validation.pem"

# Cluster Configuration
cluster_name: "airgap-rke2-cluster"
cluster_domain: "cluster.local"

# Network Configuration
cluster_cidr: "10.42.0.0/16"
service_cidr: "10.43.0.0/16"
cluster_dns: "10.43.0.10"

# Node Configuration
server_nodes: 3
agent_nodes: 2

# CNI Configuration
cni: "canal"  # Options: canal, calico, cilium, flannel

# Rancher Configuration
rancher_version: "2.8.3"
rancher_hostname: "rancher.airgap.local"
rancher_bootstrap_password: "admin123"
rancher_replicas: 3

# Cert-Manager Configuration
cert_manager_version: "v1.11.0"

# Helm Configuration
helm_version: "v3.12.0"

# Storage Configuration
storage_class: "local-path"

# Security Configuration
pod_security_policy: false
network_policy: false

# Monitoring Configuration
enable_monitoring: false
enable_logging: false

# Backup Configuration
enable_etcd_snapshots: true
etcd_snapshot_schedule: "0 */12 * * *"
etcd_snapshot_retention: 5

# Upgrade Configuration
upgrade_strategy: "rolling"
upgrade_drain_timeout: "300s"

# Custom Registry Mirrors
registry_mirrors:
  docker.io: "registry.airgap.local:5000/docker.io"
  quay.io: "registry.airgap.local:5000/quay.io"
  gcr.io: "registry.airgap.local:5000/gcr.io"
  k8s.gcr.io: "registry.airgap.local:5000/k8s.gcr.io"
  registry.k8s.io: "registry.airgap.local:5000/registry.k8s.io"

# Additional Environment Variables
env_var_map: []

# Custom Configurations
custom_config: {}
